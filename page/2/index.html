<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.1.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.1.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="读书笔记">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="读书笔记">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="读书笔记">






  <link rel="canonical" href="http://yoursite.com/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>读书笔记</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">读书笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">
    <a href="/schedule/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />Schedule</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/13/陈巍学基因A01-A03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/陈巍学基因A01-A03/" itemprop="url">
                  陈巍学基因A01-A03
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-13T17:44:34+08:00">2018-04-13</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="陈巍学基因A01-A03"><a href="#陈巍学基因A01-A03" class="headerlink" title="陈巍学基因A01-A03"></a>陈巍学基因A01-A03</h1><h2 id="A01：查看基因组的信息"><a href="#A01：查看基因组的信息" class="headerlink" title="A01：查看基因组的信息"></a>A01：查看基因组的信息</h2><blockquote>
<p>下载一个噬菌体的基因组<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/04/13/陈巍学基因A01-A03/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/13/开始建站/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/开始建站/" itemprop="url">
                  开始建站
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-13T16:41:46+08:00">2018-04-13</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="从零开始建站笔记-Hexo-NexT"><a href="#从零开始建站笔记-Hexo-NexT" class="headerlink" title="从零开始建站笔记 Hexo+NexT"></a>从零开始建站笔记 Hexo+NexT</h1>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/04/13/开始建站/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/26/猪的exon有多大-R版本/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/26/猪的exon有多大-R版本/" itemprop="url">
                  猪的exon有多大(R版本)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-26T16:51:11+08:00">2017-09-26</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="How-big-are-pig-exons"><a href="#How-big-are-pig-exons" class="headerlink" title="How big are pig exons?"></a>How big are pig exons?</h1><p>当我坐在办公室，我需要研究一下猪的exon的信息。那么猪的exon有多大？我们可以用R轻松的实现：(请保存Rstudio中的其他信息防止R崩溃)</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># load the biomaRt library</span></span><br><span class="line"><span class="comment"># install it if it doesn't exist</span></span><br><span class="line"><span class="comment"># source("http://www.bioconductor.org/biocLite.R")</span></span><br><span class="line"><span class="comment"># biocLite("biomaRt")</span></span><br><span class="line"><span class="keyword">library</span>(biomaRt)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get data from Ensembl</span></span><br><span class="line">mart &lt;- useMart(<span class="string">"ensembl"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># we are interested in the S scrofa (pig) genome</span></span><br><span class="line">mart &lt;- useDataset(<span class="string">"sscrofa_gene_ensembl"</span>,mart)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set the attributes we want and fetch them</span></span><br><span class="line">myatt &lt;- c(<span class="string">"ensembl_transcript_id"</span>, <span class="string">"chromosome_name"</span>,<span class="string">"ensembl_exon_id"</span>, <span class="string">"exon_chrom_start"</span>, <span class="string">"exon_chrom_end"</span>)</span><br><span class="line">mydat &lt;- getBM(myatt, mart=mart, uniqueRows=<span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate the exon length</span></span><br><span class="line">mydat$el &lt;- mydat$exon_chrom_end - mydat$exon_chrom_start + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># get a unique set of exons</span></span><br><span class="line">exons &lt;- unique(mydat[,c(<span class="string">"ensembl_exon_id"</span>,<span class="string">"exon_chrom_start"</span>,<span class="string">"exon_chrom_end"</span>,<span class="string">"el"</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot</span></span><br><span class="line">hist(exons$el, breaks=<span class="number">10000</span>, col=<span class="string">"blue"</span>, border=<span class="string">"blue"</span>, main=<span class="string">"Histogram of S scrofa exon lengths"</span>, xlab=<span class="string">"length"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># how long in Mb?</span></span><br><span class="line"></span><br><span class="line">sum(exons$el)/<span class="number">1000000</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/26/R极客的情人节/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/26/R极客的情人节/" itemprop="url">
                  R极客的情人节
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-26T10:58:22+08:00">2017-09-26</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><img src="/pic/2017-09/figure_16.png" alt=""></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/26/R极客的情人节/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/26/Counting-known-microRNAs-in-five-easy-steps/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/26/Counting-known-microRNAs-in-five-easy-steps/" itemprop="url">
                  Counting known microRNAs in five easy steps
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-26T10:08:04+08:00">2017-09-26</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Counting-known-microRNAs-in-five-easy-steps"><a href="#Counting-known-microRNAs-in-five-easy-steps" class="headerlink" title="Counting known microRNAs in five easy steps"></a>Counting known microRNAs in five easy steps</h1><p>翻译自<a href="http://www.ark-genomics.org/events-online-training/counting-known-micrornas-five-easy-steps" target="_blank" rel="noopener">这里</a></p>
<p>假设，当你来到这里，你应该是知道<a href="https://en.wikipedia.org/wiki/MicroRNA" target="_blank" rel="noopener">microRNAs</a>是什么. 或许有人看过我的演讲<a href="http://www.nottingham.ac.uk/deepseq/documents/ngs2011finalagenda.pdf" target="_blank" rel="noopener">UK Next-generation sequencing</a> ,标题为<code>21 ‐ 23 facts; the devil in the detail of microRNA‐Seq</code>.  对于这一小类的RNA, 它们肯定是有很大的影响，现在已有大量的生物信息学工具来处理microRNA 测序数据(microRNA-seq). 然而，基本的工作来数已知的microRNA 是非常的简单的，每个人都能做，只用简单的Unix 技巧（下面使用<code>Novoalign</code>这个很酷的工具）。下面的代码假设你在路径中有<code>Novoalign</code>. 这事怎么做的：</p>
<blockquote>
<p>5个小步骤来统计human 中的microRNAs</p>
</blockquote>
<h2 id="1-获取一个示例的数据集"><a href="#1-获取一个示例的数据集" class="headerlink" title="1. 获取一个示例的数据集"></a>1. 获取一个示例的数据集</h2><p>这个数据集来自发表在<em>Genome Research</em>上的人类研究：</p>
<p>Morin RD, O’Connor MD, Griffith M, Kuchenbauer F, Delaney A, Prabhu AL, Zhao Y, McDonald H, Zeng T, Hirst M, Eaves CJ, Marra MA. (2008) Application of massively parallel sequencing to microRNA profiling and discovery in human embryonic stem cells. Genome Res. 18(4):610-21. [<a href="http://genome.cshlp.org/content/18/4/610.abstract" target="_blank" rel="noopener">link</a>]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR026/SRR026762/SRR026762.fastq.gz</span><br></pre></td></tr></table></figure>
<h2 id="2-获取当前miRBase-的成熟序列"><a href="#2-获取当前miRBase-的成熟序列" class="headerlink" title="2. 获取当前miRBase 的成熟序列"></a>2. 获取当前miRBase 的成熟序列</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://mirbase.org/pub/mirbase/CURRENT/mature.fa.gz</span><br></pre></td></tr></table></figure>
<h2 id="3-只提取human-microRNAs-为了方便，将尿嘧啶转为胸腺嘧啶"><a href="#3-只提取human-microRNAs-为了方便，将尿嘧啶转为胸腺嘧啶" class="headerlink" title="3. 只提取human microRNAs, 为了方便，将尿嘧啶转为胸腺嘧啶"></a>3. 只提取human microRNAs, 为了方便，将<strong>尿嘧啶转为胸腺嘧啶</strong></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcat  mature.fa.gz | grep -A 1 "^&gt;hsa" | grep -v "^-" | sed 's/U/T/g' &gt; human_mature.fa</span><br></pre></td></tr></table></figure>
<h2 id="4-创建-Novoalign-inde-Novoalign-是免费的，可从http-www-novocraft-com-得到"><a href="#4-创建-Novoalign-inde-Novoalign-是免费的，可从http-www-novocraft-com-得到" class="headerlink" title="4. 创建 Novoalign inde. Novoalign 是免费的，可从http://www.novocraft.com 得到"></a>4. 创建 Novoalign inde. Novoalign 是免费的，可从<a href="http://www.novocraft.com" target="_blank" rel="noopener">http://www.novocraft.com</a> 得到</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">novoindex human_mature.nidx human_mature.fa</span><br></pre></td></tr></table></figure>
<h2 id="5-通过一行命令搜索并计算："><a href="#5-通过一行命令搜索并计算：" class="headerlink" title="5. 通过一行命令搜索并计算："></a>5. 通过一行命令搜索并计算：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">novoalign -f SRR026762.fastq.gz -F STDFQ -d human_mature.nidx -l 18 -s 1 -a -R 0 -r Random -t 0 \</span><br><span class="line">                 | grep "^@" | awk '$9 != "" &#123;print $9&#125;' \</span><br><span class="line">                 | sort | uniq -c | sort -n -r &gt; counts.txt</span><br></pre></td></tr></table></figure>
<p><strong>下面看一下结果</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">head counts.txt</span><br><span class="line">#  126476 &gt;hsa-miR-92a-3p</span><br><span class="line">#  120762 &gt;hsa-miR-103b</span><br><span class="line">#  120576 &gt;hsa-miR-103a-3p</span><br><span class="line">#   62704 &gt;hsa-miR-25-3p</span><br><span class="line">#   53155 &gt;hsa-miR-92b-3p</span><br><span class="line">#   49215 &gt;hsa-miR-372</span><br><span class="line">#   42536 &gt;hsa-miR-378a-3p</span><br><span class="line">#   37287 &gt;hsa-miR-140-3p</span><br><span class="line">#   36178 &gt;hsa-miR-21-5p</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章中的一个结论是『最丰富的miRNA是miR-103 』.</p>
<p>从结果看他们漏掉了一个（我猜hsa-miR-92a-3p是2008年之后发现的）</p>
</blockquote>
<p>现在我们完成了。运行平台Scientific Linux 5 using Novoalign V2.07.18. 如果你有问题,<a href="mick.watson@roslin.ed.ac.uk">e-mail me</a>. 请注意awk 中使用的<strong><code>$9</code></strong>可能根据你的<code>reads identifier</code> 而改变， 所以<strong>检查一下运行Novoalign时，放到了标识符哪一列。</strong></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/25/Adapter-and-quality-trimming-of-illumina-data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/Adapter-and-quality-trimming-of-illumina-data/" itemprop="url">
                  Adapter and quality trimming of illumina data
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-25T23:33:24+08:00">2017-09-25</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Adapter-and-quality-trimming-of-illumina-data"><a href="#Adapter-and-quality-trimming-of-illumina-data" class="headerlink" title="Adapter and quality trimming of illumina data"></a>Adapter and quality trimming of illumina data</h1><p>闲着翻译一个<a href="http://www.ark-genomics.org/events-online-training-eu-training-course/adapter-and-quality-trimming-illumina-data" target="_blank" rel="noopener">文章</a></p>
<h2 id="part1-FastQC报告的adapter"><a href="#part1-FastQC报告的adapter" class="headerlink" title="part1 : FastQC报告的adapter"></a>part1 : FastQC报告的adapter</h2><blockquote>
<p>从之前的结果，查看过表达的序列，可以看到<code>fastqc</code>认为我们数据中存在下面的：</p>
</blockquote>
<ul>
<li>Illumina PCR Primer Index 1</li>
<li>RNA PCR Primer, Index 47</li>
<li>Illumina Single End Adapter 2</li>
<li>Illumina Paired End PCR Primer 2</li>
</ul>
<p>这些序列是啥？Illumina 以PDF文件的形式提供这些序列，你必须注册<a href="http://www.illumina.com并获取它。我在这里提供如下：" target="_blank" rel="noopener">www.illumina.com并获取它。我在这里提供如下：</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;PCRPrimerIndex1</span><br><span class="line">CAAGCAGAAGACGGCATACGAGATCGTGATGTGACTGGAGTTC</span><br><span class="line">&gt;RNAPCRPrimerIndex47</span><br><span class="line">CAAGCAGAAGACGGCATACGAGATCTTCGAGTGACTGGAGTTCCTTGGCACCCGAGAATTCCA</span><br><span class="line">&gt;IlluminaSingleEndAdapter2</span><br><span class="line">CAAGCAGAAGACGGCATACGAGCTCTTCCGATCT</span><br><span class="line">&gt;PEPCRPrimer2.0</span><br><span class="line">CAAGCAGAAGACGGCATACGAGATCGGTCTCGGCATTCCTGCTGAACCGCTCTTCCGATCT</span><br></pre></td></tr></table></figure>
<p>可以看到，这些序列之间有很多共同点。</p>
<p>FastQC实际使用的列表存放在<strong><code>/usr/share/java/fastqc-0.10.1/Contaminants/contaminant_list.txt</code></strong></p>
<p>我们也应该考虑反向互补的序列，因为FastQC会同样查找它们。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;PCRPrimerIndex1_RC</span><br><span class="line">GAACTCCAGTCACATCACGATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;RNAPCRPrimerIndex47_RC</span><br><span class="line">TGGAATTCTCGGGTGCCAAGGAACTCCAGTCACTCGAAGATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;IlluminaSingleEndAdapter2_RC</span><br><span class="line">AGATCGGAAGAGCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;PEPCRPrimer2.0_RC</span><br><span class="line">AGATCGGAAGAGCGGTTCAGCAGGAATGCCGAGACCGATCTCGTATGCCGTCTTCTGCTTG</span><br></pre></td></tr></table></figure>
<p>现在我透露给你一个小秘密——</p>
<blockquote>
<p>这个数据集<strong>实际</strong>使用的adapter 是：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;SmallRNA3pAdapter_1.5</span><br><span class="line">ATCTCGTATGCCGTCTTCTGCTTG</span><br></pre></td></tr></table></figure>
<p>如果我们再看FastQ报的反向互补的adapter,我们可以看到(空格分开的后面是adapter)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;PCRPrimerIndex1_RC</span><br><span class="line">GAACTCCAGTCACATCACG   ATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;RNAPCRPrimerIndex47_RC</span><br><span class="line">TGGAATTCTCGGGTGCCAAGGAACTCCAGTCACTCGAAG   ATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;IlluminaSingleEndAdapter2_RC</span><br><span class="line">AGATCGGAAGAGCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">&gt;PEPCRPrimer2.0_RC</span><br><span class="line">AGATCGGAAGAGCGGTTCAGCAGGAATGCCGAGACCG   ATCTCGTATGCCGTCTTCTGCTTG</span><br></pre></td></tr></table></figure>
<p>所以，我们需要了解：</p>
<ul>
<li>FastQC可以告诉我们adapter 的污染，但 可能不会告诉我们正确的adapter</li>
<li>确定我们数据中出现的adapter可能需要更深入的工作</li>
</ul>
<p>一个策略即是问产生这些数据的科学家，但有时他们也不知道。</p>
<hr>
<h2 id="更深入了解一下adapter："><a href="#更深入了解一下adapter：" class="headerlink" title="更深入了解一下adapter："></a>更深入了解一下adapter：</h2><p>我们看一下adapter:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br><span class="line"></span><br><span class="line">zcat SRR026762.fastq.gz | head -n 20000 | grep ATCTCGTATGCCGTCTTCTGCTTG</span><br></pre></td></tr></table></figure>
<p><img src="/pic/2017-09/figure_15.png" alt=""></p>
<p>如果你够敏感，你将会注意到，我们adapter 边上也是一个重复序列：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TACAGTCCGACG   ATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">TACAGTCCGACG   ATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">TACAGTCCGACG   ATCTCGTATGCCGTCTTCTGCTTG</span><br><span class="line">TACAGTCCGACG   ATCTCGTATGCCGTCTTCTGCTTG</span><br></pre></td></tr></table></figure>
<p>结果证明是这事Small RNA sequencing primmer 的一部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;SmallRNASequencingPrimer</span><br><span class="line">CGACAGGTTCAGAGTTCTACAGTCCGACGATC</span><br></pre></td></tr></table></figure>
<p>我们把两个结合起来，得到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CGACAGGTTCAGAGTTCTACAGTCCGACGATC                             &lt;- Small RNA Primer</span><br><span class="line">                 TACAGTCCGACGATCTCGTATGCCGTCTTCTGCTTG        &lt;- Our read(s)</span><br><span class="line">                             ATCTCGTATGCCGTCTTCTGCTTG        &lt;- Small RNA 5&apos; adapter</span><br></pre></td></tr></table></figure>
<p>(原文解释很清楚)Essentially, what is happening here, is that <strong>during the small RNA library prep stage, small RNA fragments are selected. </strong> This inevitable ends up with a huge amount of “primer-dimer” i.e. where the Illumina primers/adapters have no actual product between them.</p>
<h2 id="究竟何去除掉adapter污染呢？"><a href="#究竟何去除掉adapter污染呢？" class="headerlink" title="究竟何去除掉adapter污染呢？"></a>究竟何去除掉adapter污染呢？</h2><h3 id="1）使用cutadapt-去除adapter"><a href="#1）使用cutadapt-去除adapter" class="headerlink" title="1）使用cutadapt 去除adapter"></a>1）使用cutadapt 去除adapter</h3><p>cutadapt 是一个专门去除NGS数据adapter的工具。查看详细帮组，输入<code>cutadapt -h</code></p>
<p>因为我们数据中有很多接头，我们运行cutadapt 来去除它们。命令是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cutadapt -a CGACAGGTTCAGAGTTCTACAGTCCGACGATC \</span><br><span class="line">         -a TACAGTCCGACGATC \</span><br><span class="line">         -a ATCTCGTATGCCGTCTTCTGCTTG \</span><br><span class="line">         -e 0.1 -O 5 -m 15 \</span><br><span class="line">         -o SRR026762_adaprm.fastq SRR026762.fastq.gz</span><br></pre></td></tr></table></figure>
<p>参数意义：</p>
<ul>
<li><code>-a CGACAGGTTCAGAGTTCTACAGTCCGACGATC</code>  : 第一个去除的adapter , 这是一个small RNA primer.</li>
<li><code>-a TACAGTCCGACGATC</code>: 第二个去除的adapter，这是我们观察到的Small RNA primer </li>
<li><code>-a ATCTCGTATGCCGTCTTCTGCTTG</code>: 第三个去除的adapter, 这是全长的Small RNA 5’ adapter</li>
<li><code>-e 0.1</code>: 允许read 和 adapter之间，每10个允许一个错配。</li>
<li><code>-O 5</code>:  至少有5个碱基的重叠</li>
<li><code>-m 15</code>: trimming 之后，小于15bp的reads将被扔掉</li>
<li><code>-o SRR026762_adaprm.fastq</code>： 把trimmer data 放到这个文件里。</li>
</ul>
<p>程序的输出是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">Maximum error rate: 10.00%</span><br><span class="line">   Processed reads: 5677631</span><br><span class="line">     Trimmed reads: 1927223 ( 33.9%)</span><br><span class="line">   Total basepairs:    204394716 (204.4 Mbp)</span><br><span class="line"> Trimmed basepairs:     41594144 (41.6 Mbp) (20.35% of total)</span><br><span class="line">   Too short reads: 1016544 ( 17.9% of processed reads)</span><br><span class="line">    Too long reads: 0 (  0.0% of processed reads)</span><br><span class="line">        Total time:    287.36 s</span><br><span class="line">     Time per read:      0.05 ms</span><br><span class="line"></span><br><span class="line">=== Adapter 1 ===</span><br><span class="line"></span><br><span class="line">Adapter &apos;CGACAGGTTCAGAGTTCTACAGTCCGACGATC&apos;, length 32, was trimmed 333 times.</span><br><span class="line"></span><br><span class="line">Lengths of removed sequences</span><br><span class="line">length  count   expected</span><br><span class="line">5       331     5544.6</span><br><span class="line">7       1       346.5</span><br><span class="line">10      1       5.4</span><br><span class="line"></span><br><span class="line">=== Adapter 2 ===</span><br><span class="line"></span><br><span class="line">Adapter &apos;TACAGTCCGACGATC&apos;, length 15, was trimmed 52873 times.</span><br><span class="line"></span><br><span class="line">Lengths of removed sequences</span><br><span class="line">length  count   expected</span><br><span class="line">5       93      5544.6</span><br><span class="line">6       1121    1386.1</span><br><span class="line">7       1082    346.5</span><br><span class="line">8       7       86.6</span><br><span class="line">9       2       21.7</span><br><span class="line">10      3       5.4</span><br><span class="line">11      2       1.4</span><br><span class="line">&gt;=17    50563   0.1</span><br><span class="line"></span><br><span class="line">=== Adapter 3 ===</span><br><span class="line"></span><br><span class="line">Adapter &apos;ATCTCGTATGCCGTCTTCTGCTTG&apos;, length 24, was trimmed 1874017 times.</span><br><span class="line"></span><br><span class="line">Lengths of removed sequences</span><br><span class="line">length  count   expected</span><br><span class="line">5       322     5544.6</span><br><span class="line">6       90      1386.1</span><br><span class="line">7       162     346.5</span><br><span class="line">8       20      86.6</span><br><span class="line">9       132     21.7</span><br><span class="line">10      384     5.4</span><br><span class="line">11      1257    1.4</span><br><span class="line">12      4026    0.3</span><br><span class="line">13      10585   0.1</span><br><span class="line">14      33836   0.0</span><br><span class="line">15      84695   0.0</span><br><span class="line">16      104889  0.0</span><br><span class="line">17      86715   0.0</span><br><span class="line">18      77590   0.0</span><br><span class="line">19      121253  0.0</span><br><span class="line">20      199881  0.0</span><br><span class="line">21      182110  0.0</span><br><span class="line">22      205659  0.0</span><br><span class="line">23      184010  0.0</span><br><span class="line">24      232069  0.0</span><br><span class="line">25      137080  0.0</span><br><span class="line">&gt;=26    207252  0.0</span><br></pre></td></tr></table></figure>
<p>可以看到，超过33% 的reads有某种形式的adapter.  之后超过17% 的reads 小于15bp被丢弃了。结果在<strong>SRR026762_adaprm.fastq</strong>中。</p>
<blockquote>
<p>作业问题：</p>
</blockquote>
<p>How many reads are in SRR026762_adaprm.fastq?</p>
<p>Can you think of a combination of <strong>cat</strong>, <strong>paste </strong>and <strong>awk </strong>that would print out a column of sequence lengths?</p>
<p>Can you think of how you might add <strong>sort</strong>, and <strong>uniq -c</strong> to count how many there are of each length?</p>
<h3 id="2）使用sickle-基于quality-来trim-reads"><a href="#2）使用sickle-基于quality-来trim-reads" class="headerlink" title="2）使用sickle 基于quality 来trim reads"></a>2）使用sickle 基于quality 来trim reads</h3><p>如我们所见，Illumina reads (别的其他技术同样如此)的质量到reads结束逐渐下降。当我们错误的把它们组装进基因组，或者用它们call SNP， 将需要将这些低质量的bases 去除。我们推荐使用<code>sickle</code>，一个quality trimmer, 并支持paired-end 模式。</p>
<blockquote>
<p>支持paired-end 模式是什么意思</p>
</blockquote>
<p>双端测序是我们对一个长的DNA片段进行从两端进行测序。所以我们知道这些paired-reads 来自同一个片段，另外他们应该离得多远，这当我们来比对和组装它们时非常有用。最常见的表现是是有两个区域，第一个包含<code>read 1</code>, 第二个包含<code>read 2</code>. 因此，第一个文件中的第一个read 和 第二个文件中的第一个read 是成对的，第二个reads 和 第二个成对等。</p>
<blockquote>
<p>这有什么用</p>
</blockquote>
<p>需要维持在每个文件中的reads 的顺序。如果我们从一个文件中去除了一个read，因为它低质量或者包含adapter, 我们也必须去除另一个文件中对应的read. <code>Sickle</code>这样做的很好，但不幸的是<code>cutadapt</code>不这样干。</p>
<blockquote>
<p>输入</p>
</blockquote>
<p><code>sickle</code></p>
<p><code>sickle se</code></p>
<p><code>sickle pe</code></p>
<p>这将显示每个命令的帮助信息。 我们trimmed adapters 的这个microRNA 数据是单端的测序文件，因此我们可以通过下面命令trim:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sickle se -f SRR026762_adaprm.fastq -t sanger -o SRR026762_adaprm_trim.fastq -q 30 -l 15</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参数的含义</p>
</blockquote>
<ul>
<li><code>se</code>: 使用单端模式</li>
<li><code>-f SRR026762_adaprm.fastq</code> : 这事输入的fastq文件</li>
<li><code>-t sanger</code>: 质量编码方式。所有从EBI 或者 NCBI 下载的应该是<code>sanger</code>编码的。 可通过下面检查解释：<a href="http://en.wikipedia.org/wiki/FASTQ_format#Encoding" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/FASTQ_format#Encoding</a></li>
<li><code>-o SRR026762_adaprm_trim.fastq</code> : 输出文件</li>
<li><code>-q 30</code> : 使用的质量值。低于这个分数的reads将会被trimmed 掉，使用一个滑动窗口</li>
<li><code>-l 15</code>: 在trim之后允许的最小长度，这里我们去除小于15bp的reads</li>
</ul>
<blockquote>
<p>输出会像这个：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FastQ records kept: 2622021</span><br><span class="line">FastQ records discarded: 2039066</span><br></pre></td></tr></table></figure>
<p>如你所见，丢弃了很多reads. </p>
<p><em>Try trimming using a lower quality value (e.g. 20) - how many reads are kept then?</em></p>
<p><em>Try allowing shorter reads to be kept (e.g. 10bp) - how many reads are kept then?</em></p>
<blockquote>
<p>那trim paired reads 会怎么样？我们在<strong>training</strong>文件夹下有：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@domU-12-31-39-10-6D-92:~$ ls -l training/rnaseq/*.fastq.gz</span><br><span class="line">-rw-rw-r-- 1 ubuntu ubuntu 65721000 Oct  5  2011 training/rnaseq/ERR022486_chr22_read1.fastq.gz</span><br><span class="line">-rw-rw-r-- 1 ubuntu ubuntu 62899231 Oct  5  2011 training/rnaseq/ERR022486_chr22_read2.fastq.gz</span><br><span class="line">-rw-rw-r-- 1 ubuntu ubuntu 41417843 Oct  5  2011 training/rnaseq/ERR022488_chr22_read1.fastq.gz</span><br><span class="line">-rw-rw-r-- 1 ubuntu ubuntu 39405527 Oct  5  2011 training/rnaseq/ERR022488_chr22_read2.fastq.gz</span><br></pre></td></tr></table></figure>
<p>我们trim 这些reads的命令是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sickle pe -f training/rnaseq/ERR022486_chr22_read1.fastq.gz \</span><br><span class="line">          -r training/rnaseq/ERR022486_chr22_read2.fastq.gz \</span><br><span class="line">          -t sanger \</span><br><span class="line">          -o ERR022486_chr22_read1_trim.fastq \</span><br><span class="line">          -p ERR022486_chr22_read2_trim.fastq \</span><br><span class="line">          -s ERR022486_chr22_single_trim.fastq \</span><br><span class="line">          -q 30 -l 15</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参数的解释</p>
</blockquote>
<ul>
<li><code>pe</code>: 使用双端模式</li>
<li><code>-f training/rnaseq/ERR022486_chr22_read1.fastq.gz</code> : read1 的fastq文件</li>
<li><code>-r training/rnaseq/ERR022486_chr22_read2.fastq.gz</code>： read2 de fastq 文件</li>
<li><code>-t sanger</code>：质量编码方式。所有从EBI 或者 NCBI 下载的应该是<code>sanger</code>编码的。 可通过下面检查解释：<a href="http://en.wikipedia.org/wiki/FASTQ_format#Encoding" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/FASTQ_format#Encoding</a></li>
<li><code>-o ERR022486_chr22_read1_trim.fastq</code>： 从read1 的文件中trimmed之后的输出文件</li>
<li><code>-p ERR022486_chr22_read2_trim.fastq</code>：从read2 的文件中trimmed之后的输出文件</li>
<li><code>-s ERR022486_chr22_single_trim.fastq</code>： 不符合质量检测或长度检测的成对的reads.</li>
<li><code>-q 30</code>trimming 之后，小于15bp的reads将被扔掉</li>
<li><code>-l 15</code>在trim之后允许的最小长度，这里我们去除小于15bp的reads</li>
</ul>
<blockquote>
<p>输出结果看起来是这样：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FastQ paired records kept: 1357006 (678503 pairs)</span><br><span class="line">FastQ single records kept: 118391 (from PE1: 89173, from PE2: 29218)</span><br><span class="line">FastQ paired records discarded: 106702 (53351 pairs)</span><br><span class="line">FastQ single records discarded: 118391 (from PE1: 29218, from PE2: 89173)</span><br></pre></td></tr></table></figure>
<p><em>What happens if you set a quality threshold of 20?</em></p>
<p><em>What happens if you set the length threshold at 10?  At 0?</em></p>
<p>现在我们完成了！现在你可以trim adapters 并评估单端或双端的Illumina data 的质量。</p>
<p>如果你有更多的空闲时间，你可以登录EBI European Nucleotide Archive, 下载并练习你的新技能(<a href="http://www.ebi.ac.uk/ena/data/view/SRP008449" target="_blank" rel="noopener">http://www.ebi.ac.uk/ena/data/view/SRP008449</a>)</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/23/pytorch-CNN卷积神经网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/23/pytorch-CNN卷积神经网络/" itemprop="url">
                  pytorch:CNN卷积神经网络
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-23T14:57:40+08:00">2017-09-23</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>卷积神经网络目前被广泛地用在图片识别上, 已经有层出不穷的应用, 一步一步做一个分析手写数字的 CNN 吧.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/23/pytorch-CNN卷积神经网络/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/23/pytorch-Optimizer优化器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/23/pytorch-Optimizer优化器/" itemprop="url">
                  pytorch:Optimizer优化器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-23T14:39:06+08:00">2017-09-23</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Optimizer-优化器"><a href="#Optimizer-优化器" class="headerlink" title="Optimizer 优化器"></a>Optimizer 优化器</h1><p>这节内容主要是用Torch的几种优化器查看优化器效果。</p>
<p><img src="/pic/2017-09/figure_7.png" alt=""></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/23/pytorch-Optimizer优化器/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/23/pytorch批训练/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/23/pytorch批训练/" itemprop="url">
                  pytorch批训练
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-23T14:25:19+08:00">2017-09-23</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="pytorch-的批训练"><a href="#pytorch-的批训练" class="headerlink" title="pytorch 的批训练"></a>pytorch 的批训练</h1><ul>
<li>要点：Torch 中提供了一种帮你整理你的数据结构的好东西, 叫做 <code>DataLoader</code>, 我们能用它来<strong>包装自己的数据, 进行批训练.</strong></li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/23/pytorch批训练/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/22/pytorch07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kaige Dong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="读书笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/22/pytorch07/" itemprop="url">
                  pytorch07
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-22T18:38:30+08:00">2017-09-22</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="模型的保存与提取"><a href="#模型的保存与提取" class="headerlink" title="模型的保存与提取"></a>模型的保存与提取</h1><h2 id="保存的两种方法与提取的两种方法"><a href="#保存的两种方法与提取的两种方法" class="headerlink" title="保存的两种方法与提取的两种方法"></a>保存的两种方法与提取的两种方法</h2><p>我们快速地建造数据, 搭建网络:</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/09/22/pytorch07/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Kaige Dong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">35</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kaige Dong</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Gemini</a> v6.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.1.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
