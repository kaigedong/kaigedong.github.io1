<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    <meta name="keywords" content="Life, ARIA, Hexo">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="读书笔记" type="application/atom+xml" />
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>Counting known microRNAs in five easy steps | 读书笔记</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"  data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">读书笔记</a></h1>
        <h2 class="subtitle"></h2>
      </div>
      
      <div class="logo">
        <img src="/images/my_logo.png" alt="logo">
      </div>
      
    </div>
    
<nav id="nav" class="nav">
  <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切换导航栏"></i></a>
  <ul id="menu" role="menubar" aria-hidden="false">
    
    <li role="menuitem"><a href="/">首页</a></li>
    
    <li role="menuitem"><a href="/archives/">归档</a></li>
    
    <li role="menuitem"><a href="/categories/">分类</a></li>
    
    <li role="menuitem"><a href="/tags/">标签</a></li>
    
    <li role="menuitem"><a href="/about/">关于</a></li>
    
  </ul>
</nav>


  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            
<div id="post" class="post">
  
  <article class="post-article card animate" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/26/Counting-known-microRNAs-in-five-easy-steps/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
       <meta itemprop="name" content="Kaige Dong">
       <meta itemprop="description" content="">
       <meta itemprop="image" content="/images/myavatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
       <meta itemprop="name" content="读书笔记">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">Counting known microRNAs in five easy steps</h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2017-09-26T10:08:04+08:00">2017-09-26 10:08:04</time></span>
        </span>
        
        
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-comment-count">
          <i class="far fa-comments"></i><span><a href="/2017/09/26/Counting-known-microRNAs-in-five-easy-steps/#disqus_thread" itemprop="discussionUrl"><span class="post-comment-count disqus-comment-count" data-disqus-identifier="2017/09/26/Counting-known-microRNAs-in-five-easy-steps/" itemprop="commentCount"></span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      <p>获取一个示例的数据集</p>
<p>获取当前miRBase 的成熟序列</p>
<p>将尿嘧啶转为胸腺嘧啶</p>
<p>通过一行命令搜索并计算：</p>
<p>通过一行命令搜索并计算</p>
<a id="more"></a>
<h1 id="Counting-known-microRNAs-in-five-easy-steps"><a href="#Counting-known-microRNAs-in-five-easy-steps" class="headerlink" title="Counting known microRNAs in five easy steps"></a>Counting known microRNAs in five easy steps</h1><p>翻译自<a href="http://www.ark-genomics.org/events-online-training/counting-known-micrornas-five-easy-steps" target="_blank" rel="noopener">这里</a></p>
<p>假设，当你来到这里，你应该是知道<a href="https://en.wikipedia.org/wiki/MicroRNA" target="_blank" rel="noopener">microRNAs</a>是什么. 或许有人看过我的演讲<a href="http://www.nottingham.ac.uk/deepseq/documents/ngs2011finalagenda.pdf" target="_blank" rel="noopener">UK Next-generation sequencing</a> ,标题为<code>21 ‐ 23 facts; the devil in the detail of microRNA‐Seq</code>.  对于这一小类的RNA, 它们肯定是有很大的影响，现在已有大量的生物信息学工具来处理microRNA 测序数据(microRNA-seq). 然而，基本的工作来数已知的microRNA 是非常的简单的，每个人都能做，只用简单的Unix 技巧（下面使用<code>Novoalign</code>这个很酷的工具）。下面的代码假设你在路径中有<code>Novoalign</code>. 这事怎么做的：</p>
<blockquote>
<p>5个小步骤来统计human 中的microRNAs</p>
</blockquote>
<h2 id="1-获取一个示例的数据集"><a href="#1-获取一个示例的数据集" class="headerlink" title="1. 获取一个示例的数据集"></a>1. 获取一个示例的数据集</h2><p>这个数据集来自发表在<em>Genome Research</em>上的人类研究：</p>
<p>Morin RD, O’Connor MD, Griffith M, Kuchenbauer F, Delaney A, Prabhu AL, Zhao Y, McDonald H, Zeng T, Hirst M, Eaves CJ, Marra MA. (2008) Application of massively parallel sequencing to microRNA profiling and discovery in human embryonic stem cells. Genome Res. 18(4):610-21. [<a href="http://genome.cshlp.org/content/18/4/610.abstract" target="_blank" rel="noopener">link</a>]</p>
<figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR026/SRR026762/SRR026762.fastq.gz<br></code></pre></td></tr></table></figure>
<h2 id="2-获取当前miRBase-的成熟序列"><a href="#2-获取当前miRBase-的成熟序列" class="headerlink" title="2. 获取当前miRBase 的成熟序列"></a>2. 获取当前miRBase 的成熟序列</h2><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget ftp://mirbase.org/pub/mirbase/CURRENT/mature.fa.gz<br></code></pre></td></tr></table></figure>
<h2 id="3-只提取human-microRNAs-为了方便，将尿嘧啶转为胸腺嘧啶"><a href="#3-只提取human-microRNAs-为了方便，将尿嘧啶转为胸腺嘧啶" class="headerlink" title="3. 只提取human microRNAs, 为了方便，将尿嘧啶转为胸腺嘧啶"></a>3. 只提取human microRNAs, 为了方便，将<strong>尿嘧啶转为胸腺嘧啶</strong></h2><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">zcat  mature.fa.gz | grep -A 1 "^&gt;hsa" | grep -v "^-" | sed 's/U/T/g' &gt; human_mature.fa<br></code></pre></td></tr></table></figure>
<h2 id="4-创建-Novoalign-inde-Novoalign-是免费的，可从http-www-novocraft-com-得到"><a href="#4-创建-Novoalign-inde-Novoalign-是免费的，可从http-www-novocraft-com-得到" class="headerlink" title="4. 创建 Novoalign inde. Novoalign 是免费的，可从http://www.novocraft.com 得到"></a>4. 创建 Novoalign inde. Novoalign 是免费的，可从<a href="http://www.novocraft.com" target="_blank" rel="noopener">http://www.novocraft.com</a> 得到</h2><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">novoindex human_mature.nidx human_mature.fa<br></code></pre></td></tr></table></figure>
<h2 id="5-通过一行命令搜索并计算："><a href="#5-通过一行命令搜索并计算：" class="headerlink" title="5. 通过一行命令搜索并计算："></a>5. 通过一行命令搜索并计算：</h2><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">novoalign -f SRR026762.fastq.gz -F STDFQ -d human_mature.nidx -l 18 -s 1 -a -R 0 -r Random -t 0 \<br>                 | grep "^@" | awk '$9 != "" &#123;print $9&#125;' \<br>                 | sort | uniq -c | sort -n -r &gt; counts.txt<br></code></pre></td></tr></table></figure>
<p><strong>下面看一下结果</strong></p>
<figure class="hljs highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs undefined">head counts.txt<br>#  <span class="hljs-number">126476</span> &gt;hsa-miR<span class="hljs-number">-92</span>a<span class="hljs-number">-3</span>p<br>#  <span class="hljs-number">120762</span> &gt;hsa-miR<span class="hljs-number">-103</span>b<br>#  <span class="hljs-number">120576</span> &gt;hsa-miR<span class="hljs-number">-103</span>a<span class="hljs-number">-3</span>p<br>#   <span class="hljs-number">62704</span> &gt;hsa-miR<span class="hljs-number">-25</span><span class="hljs-number">-3</span>p<br>#   <span class="hljs-number">53155</span> &gt;hsa-miR<span class="hljs-number">-92</span>b<span class="hljs-number">-3</span>p<br>#   <span class="hljs-number">49215</span> &gt;hsa-miR<span class="hljs-number">-372</span><br>#   <span class="hljs-number">42536</span> &gt;hsa-miR<span class="hljs-number">-378</span>a<span class="hljs-number">-3</span>p<br>#   <span class="hljs-number">37287</span> &gt;hsa-miR<span class="hljs-number">-140</span><span class="hljs-number">-3</span>p<br>#   <span class="hljs-number">36178</span> &gt;hsa-miR<span class="hljs-number">-21</span><span class="hljs-number">-5</span>p<br></code></pre></td></tr></table></figure>
<blockquote>
<p>文章中的一个结论是『最丰富的miRNA是miR-103 』.</p>
<p>从结果看他们漏掉了一个（我猜hsa-miR-92a-3p是2008年之后发现的）</p>
</blockquote>
<p>现在我们完成了。运行平台Scientific Linux 5 using Novoalign V2.07.18. 如果你有问题,<a href="mick.watson@roslin.ed.ac.uk">e-mail me</a>. 请注意awk 中使用的<strong><code>$9</code></strong>可能根据你的<code>reads identifier</code> 而改变， 所以<strong>检查一下运行Novoalign时，放到了标识符哪一列。</strong></p>

    </main>
    <footer class="post-footer">
      
    </footer>
  </article>
  
  
  <div class="post-nav">
    <div class="post-nav-next post-nav-item">
      
      <a href="/2017/09/25/Adapter-and-quality-trimming-of-illumina-data/" rel="next" title="Adapter and quality trimming of illumina data"><i class="fas fa-angle-left"></i><span class="nav-title">Adapter and quality trimming of illumina data</span></a>
      
    </div>
    <div class="post-nav-prev post-nav-item">
      
      <a href="/2017/09/26/R极客的情人节/" rel="prev" title="R极客的情人节"><span class="nav-title">R极客的情人节</span><i class="fas fa-angle-right"></i></a>
      
    </div>
  </div>
  
  
  

<div class="comments" id="comments">
  
  <script defer id="dsq-count-scr" src="//kaigedong.disqus.com/count.js"></script>
  
  <div id="disqus_thread" class="disqus_thread"></div>
  <script type="text/javascript">
  var disqus_config = function () {
    this.page.url = "http://yoursite.com/2017/09/26/Counting-known-microRNAs-in-five-easy-steps/";
    this.page.identifier = "2017/09/26/Counting-known-microRNAs-in-five-easy-steps/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "https://kaigedong.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  
  
</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/sidebar_background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/myavatar.png" alt="Kaige Dong">
  
  <h1 class="author-name">Kaige Dong</h1>
  <h2 class="author-description"></h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">归档</div>
      <div><a href="/archives/">53</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分类</div>
      <div><a href="/categories/">0</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">标签</div>
      <div><a href="/tags/">10</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    




<hr>
<div class="post-toc sidebar-item" id="toc-div">
  <div><i class="fas fa-list-ol"></i>文章目录</div>
  <div class="post-toc-content"><ol class="list-group toc"><li class="toc-item toc-level-1"><a class="list-group-item toc-link" href="#Counting-known-microRNAs-in-five-easy-steps"><span class="toc-text">Counting known microRNAs in five easy steps</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#1-获取一个示例的数据集"><span class="toc-text">1. 获取一个示例的数据集</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#2-获取当前miRBase-的成熟序列"><span class="toc-text">2. 获取当前miRBase 的成熟序列</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#3-只提取human-microRNAs-为了方便，将尿嘧啶转为胸腺嘧啶"><span class="toc-text">3. 只提取human microRNAs, 为了方便，将尿嘧啶转为胸腺嘧啶</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#4-创建-Novoalign-inde-Novoalign-是免费的，可从http-www-novocraft-com-得到"><span class="toc-text">4. 创建 Novoalign inde. Novoalign 是免费的，可从http://www.novocraft.com 得到</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#5-通过一行命令搜索并计算："><span class="toc-text">5. 通过一行命令搜索并计算：</span></a></li></ol></li></ol></div>
</div>



    
    
    
<hr>
<div class="social-link sidebar-item">
  <div><i class="far fa-address-card"></i>社交链接</p></div>
  <ul>
    
    <li><i class="fas fa-envelope"></i><a href="mailto:dongkaige@gmail.com" target="_blank">E-Mail</a></li>
    
    <li><i class="fab fa-github"></i><a href="https://github.com/kaigedong" target="_blank">GitHub</a></li>
    
    <li><i class="fab fa-weibo"></i><a href="https://weibo.com/u/2264075493" target="_blank">Weibo</a></li>
    
  </ul>
</div>


    
    
    
<hr>
<div class="blogroll sidebar-item">
  <div><i class="fas fa-link"></i>友情链接</div>
  <ul>
    
    <li><a href="https://github.com/" target="_blank">Yiweiniu's GitHub</a></li>
    
    <li><a href="https://developer.mozilla.org/" target="_blank">MDN</a></li>
    
    <li><a href="https://mozilla.github.io/nunjucks/" target="_blank">Nunjucks</a></li>
    
  </ul>
</div>


    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到顶部"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">Kaige Dong</span><span class="year"><i class="far fa-copyright"></i>2016 - 2018</span>
        </div>
        
        
<div class="busuanzi">
  <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="站点点击量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="站点用户数" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="页面点击量" aria-hidden="false"></span></span>
</div>


        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
